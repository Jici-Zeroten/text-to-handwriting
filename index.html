<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-125454191-4"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-125454191-4');
    </script>

    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Basic -->
    <meta charset="UTF-8" />
    <meta name="theme-color" content="#09f" />
    <meta
      name="description"
      content="I hate writing assignments so I made this tool that converts text to an image that looks like handwriting. You can copy paste text content into the textbox and click generate image button to generate image. Text to Handwriting"
    />
    <meta
      name="keywords"
      content="text to handwriting, text-to-handwrting, saurabh text to handwriting, convert text to image, write assignment online"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="author" content="Saurabh Daware" />
    <meta name="copyright" content="Saurabh Daware" />
    <meta name="robots" content="follow" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Text to Handwriting" />
    <meta
      property="og:url"
      content="https://saurabhdaware.github.io/text-to-handwriting"
    />
    <meta
      property="og:description"
      content="I hate writing assignments so I made this tool that converts text to an image that looks like handwriting. You can copy paste text content into the textbox and click generate image button to generate image. Text to Handwriting"
    />
    <meta property="og:site_name" content="Text to Handwriting" />

    <meta
      property="og:image:secure_url"
      itemprop="image"
      content="https://res.cloudinary.com/saurabhdaware/image/upload/v1585413874/saurabh2019/projects/text-to-handwriting.png"
    />
    <meta
      property="og:image"
      itemprop="image"
      content="https://res.cloudinary.com/saurabhdaware/image/upload/v1585413874/saurabh2019/projects/text-to-handwriting.png"
    />
    <meta property="og:image:width" content="600" />
    <meta property="og:image:height" content="337" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@saurabhcodes" />

    <title>从文本到手写</title>

    <!-- Favicons -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="images/favicon-16x16.png"
    />

    <!-- PWA Migration -->
    <link rel="manifest" href="./manifest.webmanifest" />

    <!-- Load Fonts -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Homemade+Apple|Roboto|Caveat|Liu+Jian+Mao+Cao&display=swap"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./css/features.css" />
  </head>

  <body>
    <main>
      <button
        aria-label="Activate Dark Mode"
        title="Toggle Dark Mode"
        aria-pressed="false"
        onclick="toggleTheme(this)"
        class="dark-mode-toggle"
      >
        <span class="sun">
          <img
            alt="sun icon that represents light mode"
            width="35px"
            src="images/sun.svg"
        /></span>
        <span class="moon"
          ><img
            alt="moon icon to represent dark mode "
            width="25px"
            src="images/moon.svg"
        /></span>
      </button>
      <h1>从文本到手写</h1>
      <section class="generate-image-section">
        <br /><br />
        <form id="generate-image-form">
          <!-- Generate Image Section -->
          <div class="display-flex output-grid responsive-flex">
            <div class="flex-1 page-container-super">
              <div>
                <h2 style="margin-top: 0px;">输入</h2>
                <label class="block" for="note">在此处键入/粘贴文本</label>
              </div>

              <div class="flex-1 page-container">
                <div class="page-a margined lines">
                  <div contenteditable="true" class="top-margin"></div>
                  <div class="display-flex left-margin-and-content">
                    <div contenteditable="true" class="left-margin"></div>
                    <div class="paper-content" id="note" contenteditable="true">
                      hello,world
                    </div>
                  </div>
                  <div class="overlay"></div>
                </div>
                <br />
              </div>

              <div>
                <button
                  id="draw-diagram-button"
                  type="button"
                  style="font-size: 0.9rem; margin-top: 5px;"
                  class="draw-button"
                >
                  画图<small>(添加画迹)</small>
                </button>
              </div>
            </div>

            <div class="customization-col">
              <!-- Handwriting Font -->
              <div style="padding: 5px 0px 5px 0px;">
                <b>自定义</b> <small>(可选)</small>
                <p style="font-size: 0.8rem;">
                  <em
                    >提醒: 很小的变化可能只会反映在生成的图像中但不会在预览中显示</em
                  ><br>
                  <em
                    >日常笔墨颜色: 黑笔(#000000)、蓝笔(#000f55)、红笔(#ba3807)</em
                  >
                </p>
              </div>
              <fieldset>
                <legend>手写选项</legend>

                <div class="category-grid">
                  <div>
                    <label class="block" for="handwriting-font"
                      >手写字体</label
                    >
                    <select id="handwriting-font">
                      <option
                        selected
                        style="font-family: 'Homemade Apple';"
                        value="'Homemade Apple', cursive"
                      >
                        Homemade Apple
                      </option>

                      <option 
                        style="font-family: 'Hindi_Font';"
                        value="'Hindi_Font', cursive"

                      >Kruti-dev(Hindi)</option>

                      <option
                        style="font-family: 'AntonyLark-QEVickyCaulfield', cursive; font-size: 13pt;"
                        value="'AntonyLark-QEVickyCaulfield', cursive"
                      >
                        AntonyLark-QEVickyCaulfield
                      </option>

                      <option
                        style="font-family: 'BeverlySmith-QEBEV', cursive; font-size: 13pt;"
                        value="'BeverlySmith-QEBEV', cursive"
                      >
                        BeverlySmith-QEBEV
                      </option>

                      <option
                        style="font-family: 'DS-Font-QEDSFont', cursive; font-size: 13pt;"
                        value="'DS-Font-QEDSFont', cursive"
                      >
                        DS-Font-QEDSFont
                      </option>


                      <option
                        style="font-family: 'KevinKnowles-QEKevinKnowles', cursive; font-size: 13pt;"
                        value="'KevinKnowles-QEKevinKnowles', cursive"
                      >
                        KevinKnowles-QEKevinKnowles
                      </option>


                      <option
                        style="font-family: 'qiando手写楷体', cursive; font-size: 13pt;"
                        value="'qiando手写楷体', cursive"
                      >
                        qiando手写楷体
                      </option>

                      <option
                        style="font-family: '寒蝉手拙体', cursive; font-size: 13pt;"
                        value="'寒蝉手拙体', cursive"
                      >
                        寒蝉手拙体
                      </option>

                      <option
                        style="font-family: '手写杂书体851', cursive; font-size: 13pt;"
                        value="'手写杂书体851', cursive"
                      >
                        手写杂书体851
                      </option>

                      <option
                        style="font-family: '新叶念体', cursive; font-size: 13pt;"
                        value="'新叶念体', cursive"
                      >
                        新叶念体
                      </option>

                      <option
                        style="font-family: '杨任东竹石体-Bold', cursive; font-size: 13pt;"
                        value="'杨任东竹石体-Bold', cursive"
                      >
                        杨任东竹石体-Bold
                      </option>

                      <option
                        style="font-family: '杨任东竹石体-Extralight', cursive; font-size: 13pt;"
                        value="'杨任东竹石体-Extralight', cursive"
                      >
                        杨任东竹石体-Extralight
                      </option>

                      <option
                        style="font-family: '杨任东竹石体-Heavy', cursive; font-size: 13pt;"
                        value="'杨任东竹石体-Heavy', cursive"
                      >
                        杨任东竹石体-Heavy
                      </option>

                      <option
                        style="font-family: '杨任东竹石体-Light', cursive; font-size: 13pt;"
                        value="'杨任东竹石体-Light', cursive"
                      >
                        杨任东竹石体-Light
                      </option>

                      <option
                        style="font-family: '杨任东竹石体-Medium', cursive; font-size: 13pt;"
                        value="'杨任东竹石体-Medium', cursive"
                      >
                        杨任东竹石体-Medium
                      </option>

                      <option
                        style="font-family: '杨任东竹石体-Regular', cursive; font-size: 13pt;"
                        value="'杨任东竹石体-Regular', cursive"
                      >
                        杨任东竹石体-Regular
                      </option>

                      <option
                        style="font-family: '杨任东竹石体-Semibold', cursive; font-size: 13pt;"
                        value="'杨任东竹石体-Semibold', cursive"
                      >
                        杨任东竹石体-Semibold
                      </option>

                      <option
                        style="font-family: '沐瑶随心手写体', cursive; font-size: 13pt;"
                        value="'沐瑶随心手写体', cursive"
                      >
                        沐瑶随心手写体
                      </option>

                      <option
                        style="font-family: '清松手写体1', cursive; font-size: 13pt;"
                        value="'清松手写体1', cursive"
                      >
                        清松手写体1
                      </option>

                      <option
                        style="font-family: '美人的字-日文', cursive; font-size: 13pt;"
                        value="'美人的字-日文', cursive"
                      >
                        美人的字-日文
                      </option>
                      

                      <option
                        style="font-family: 'Caveat', cursive; font-size: 13pt;"
                        value="'Caveat', cursive"
                      >
                        Caveat
                      </option>
                      <option
                        style="
                          font-family: 'Liu Jian Mao Cao';
                          font-size: 13pt;
                        "
                        value="'Liu Jian Mao Cao', cursive"
                      >
                        Liu Jian Mao Cao
                      </option>
                    </select>
                  </div>
                  <div class="upload-handwriting-container">
                    <label class="block" for="font-file"
                      >上传您的手写字体<small>(支持.ttf/.otf)</small>&nbsp;
                    </label>
                    <input accept=".ttf, .otf" type="file" id="font-file" />
                  </div>
                </div>
              </fieldset>

              <!-- Pen ink color, Font size, Vertical position text, Word Spacing -->
              <fieldset>
                <legend>页面和文本选项</legend>

                <div class="category-grid">
                  <div class="postfix-input" data-postfix="pt">
                    <label for="font-size">字体大小</label>
                    <input
                      id="font-size"
                      min="0"
                      step="0.5"
                      value="10"
                      type="number"
                    />
                  </div>
                  <div>
                    <label class="block" for="ink-color">墨水颜色</label>
                   <!--  <select id="ink-color">
                      <option default value="#000f55">蓝色</option>
                      <option value="black">黑色</option>
                      <option value="#ba3807">红色</option>
                    </select> -->
                    <input type="color" id="ink-color">
                  </div>
                  <div>
                    <label class="block" for="page-size">纸张大小</label>
                    <select id="page-size">
                      <option default value="a4">A4 &nbsp;</option>
                    </select>
                  </div>
                  <div>
                    <label class="block" for="page-effects">效果</label>
                    <select id="page-effects">
                      <option default value="shadows">光影(灯光阴影模拟)</option>
                      <option value="scanner">扫描器(模拟扫描器的扫描效果)</option>
                      <option value="no-effect">无效果</option>
                    </select>
                  </div>
                  <div>
                    <label class="block" for="resolution">分辨率</label>
                    <select id="resolution">
                      <option value="0.8">非常低</option>
                      <option value="1">低</option>
                      <option selected value="2">正常</option>
                      <option value="3">高</option>
                      <option value="4">非常高</option>
                    </select>
                  </div>
                </div>
              </fieldset>

              <fieldset>
                <legend>间距选项</legend>

                <div class="category-grid">
                  <div class="postfix-input" data-postfix="px">
                    <label for="top-padding">垂直距离</label>
                    <input id="top-padding" min="0" value="5" type="number" />
                  </div>
                  <div class="postfix-input" data-postfix="px">
                    <label for="word-spacing">词间距</label>
                    <input
                      id="word-spacing"
                      min="0"
                      max="100"
                      value="0"
                      type="number"
                    />
                  </div>
                  <div class="postfix-input" data-postfix="pt">
                    <label for="letter-spacing">字母间距</label>
                    <input
                      id="letter-spacing"
                      min="-5"
                      max="40"
                      value="0"
                      type="number"
                    />
                  </div>
                </div>
              </fieldset>

              <!-- Letter spacing, Paper Margin, Paper Lines, Paper Curvature -->
              <fieldset>
                <legend>纸张选项</legend>

                <div class="category-grid">
                  <div>
                    <label for="paper-margin-toggle"
                      >纸张边界:
                      <span aria-label="paper margin status" class="status"
                        >on</span
                      >
                    </label>
                    <label class="switch-toggle outer">
                      <input
                        aria-checked="true"
                        checked
                        aria-label="Paper Margin Button"
                        id="paper-margin-toggle"
                        type="checkbox"
                      />
                      <div></div>
                    </label>
                  </div>

                  <div>
                    <label for="paper-line-toggle"
                      >纸线:
                      <span aria-label="paper line status" class="status"
                        >on</span
                      >
                    </label>
                    <label class="switch-toggle outer">
                      <input
                        aria-checked="true"
                        checked
                        aria-label="Paper Line Button"
                        id="paper-line-toggle"
                        type="checkbox"
                      />
                      <div></div>
                    </label>
                  </div>
                  <div class="experimental">
                    <!-- Removed option -->
                    <div class="upload-paper-container">
                      <label class="block" for="paper-file"
                        >上传纸张图像作为背景</label
                      >
                      <input
                        accept=".jpg, .jpeg, .png"
                        type="file"
                        id="paper-file"
                      />
                    </div>
                  </div>
                </div>
              </fieldset>

              <!-- GENERATE IMAGE BUTTONS -->
              <hr
                style="
                  border: 0.3px solid var(--elevation-background);
                  width: 80%;
                "
              />
              <div style="text-align: center; padding: 30px 0px;">
                <button
                  type="submit"
                  data-testid="generate-image-button"
                  class="button generate-image-button"
                >
                  生成图像
                </button>
              </div>
            </div>
          </div>
        </form>
      </section>

      <!-- OUTPUT -->
      <section>
        <h2 id="output-header">输出</h2>
        <div id="output" class="output" style="text-align: center;">
          点击“生成图像”按钮生成新图像
        </div>
        <div style="text-align: center; padding: 30px;">
          <button class="imp-button" id="download-as-pdf-button">
            下载所有图片为PDF
          </button>
          <button class="delete-button" id="delete-all-button">
            清除所有图像
          </button>
        </div>
      </section>

    </main>

    <!-- Fixed Elements -->
    <section class="draw-container popup-container">
      <button class="close-button">&times;</button>
      <div class="display-flex responsive-flex">
        <canvas
          id="diagram-canvas"
          style="background-color: #fff;"
          height="600px"
          width="600px"
        ></canvas>
        <div class="flex-1 buttons-container padding-around">
          <button
            id="add-to-paper-button"
            style="margin-top: 5px; margin-bottom: 5px;"
          >
            添加画迹到纸张
          </button>
          <button
            id="draw-download-button"
            style="margin-top: 5px; margin-bottom: 5px;"
          >
            下载图片
          </button>
          <br /><br />
          <input
            type="file"
            id="image-to-add-in-canvas"
            accept="image/x-png,image/jpeg"
            hidden="hidden"
          />
          <br /><br /><button id="add-new-image-button">添加背景图</button>
          <br /><br />
          <button
            id="clear-draw-canvas"
            class="blue-button"
            style="background-color: #f30; color: #fff;"
          >
            清空画布
          </button>
        </div>
      </div>
    </section>
    <!-- GitHub Corner logo -->
    <a
      tabindex="0"
      href="https://github.com/Jici-Zeroten/text-to-handwriting"
      rel="noopener noreferrer"
      target="_blank"
      class="github-corner"
      aria-label="View source on GitHub"
    >
      <svg
        width="80"
        height="80"
        viewBox="0 0 250 250"
        style="
          fill: #151513;
          color: #fff;
          position: absolute;
          top: 0;
          border: 0;
          right: 0;
        "
        aria-hidden="true"
      >
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor"
          style="transform-origin: 130px 106px;"
          class="octo-arm"
        ></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor"
          class="octo-body"
        ></path>
      </svg>
    </a>

    <script
      src="./js/vendors/html2canvas.min.js"
      crossorigin="anonymous"
    ></script>
    <script type="module" src="js/app.mjs"></script>
    <script defer src="https://unpkg.com/jspdf@^1/dist/jspdf.min.js"></script>
    <script>
      function toggleTheme(toggleButton) {
        if (document.body.classList.contains('dark')) {
          document.body.classList.add('fade-in-light');
          document.body.classList.remove('dark');
          document.body.classList.remove('fade-in-dark');
          window.localStorage.setItem('prefers-theme', 'light');
          if (toggleButton) {
            toggleButton.setAttribute('aria-pressed', false);
            toggleButton.setAttribute('aria-label', 'Activate Dark Mode');
          }
        } else {
          document.body.classList.add('fade-in-dark');
          document.body.classList.add('dark');
          document.body.classList.remove('fade-in-light');
          window.localStorage.setItem('prefers-theme', 'dark');
          if (toggleButton) {
            toggleButton.setAttribute('aria-pressed', true);
            toggleButton.setAttribute('aria-label', 'Activate Light Mode');
          }
        }
      }

      const localPreference = window.localStorage.getItem('prefers-theme');
      if (localPreference) {
        if (localPreference === 'light') document.body.classList.remove('dark');
        else document.body.classList.add('dark');
      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }

      document.querySelectorAll('#donations a[href]').forEach((anchorEl) => {
        anchorEl.addEventListener('click', (e) => {
          const tracker = ga.getAll()[0];
          let label;
          if (e.target.href) {
            label = e.target.href;
          } else {
            label = e.target.parentElement.href;
          }

          if (tracker) {
            tracker.send('event', 'Donation Link', 'Click', label);
          }
        });
      });
    </script>
  </body>
</html>
